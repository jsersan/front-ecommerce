<div class="search-results-container">
  <!-- Título de la página que muestra el término buscado -->
  <div class="category-header">
    <h1 id="titulo">
      Resultados para "{{ searchTerm }}"
    </h1>
  </div>
  
  <!-- Indicador de carga mientras se buscan productos -->
  <div *ngIf="loading" class="loading-indicator">
    <p>Buscando productos...</p>
    <!-- Aquí podría ir un spinner o animación de carga -->
  </div>
  
  <!-- Mensaje cuando no hay resultados -->
  <div *ngIf="!loading && products.length === 0" class="no-results">
    <p>No se encontraron productos que coincidan con "<strong>{{ searchTerm }}</strong>".</p>
    <p>Intenta con otros términos de búsqueda como:</p>
    <ul>
      <li>anillo, banana, labret, barbell</li>
      <li>plug, túnel, expander</li>
      <li>piercing, dilatación</li>
    </ul>
  </div>
  
  <!-- ✅ CONTENEDOR DE RESULTADOS usando la misma estructura que otros componentes -->
  <div id="articulos" *ngIf="!loading && products.length > 0">
    <!-- ✅ USAR la misma estructura que home.component y product-list.component -->
    <div class="articulo" 
         *ngFor="let product of products" 
         (click)="openProductPopup(product, $event)">
      
      <!-- ✅ Imagen del producto usando el servicio centralizado -->
      <img [src]="productService.getProductImageSrc(product)" 
           [alt]="product.nombre" 
           (error)="handleImageError($event)" />
      
      <!-- ✅ Detalles del producto -->
      <h2>{{ product.nombre }}</h2>
      <h3>{{ formatPrice(product.precio) }}</h3>
      <p class="description">{{ product.descripcion }}</p>
    </div>
  </div>
</div>

<!-- ✅ IMPORTANTE: Incluir el componente popup de producto -->
<app-product-popup></app-product-popup>

